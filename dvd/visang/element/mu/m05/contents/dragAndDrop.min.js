var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,e,d){a instanceof String&&(a=String(a));for(var b=a.length,c=0;c<b;c++){var g=a[c];if(e.call(d,g,c,a))return{i:c,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,e,d){a!=Array.prototype&&a!=Object.prototype&&(a[e]=d.value)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(a,e,d,b){if(e){d=$jscomp.global;a=a.split(".");for(b=0;b<a.length-1;b++){var c=a[b];c in d||(d[c]={});d=d[c]}a=a[a.length-1];b=d[a];e=e(b);e!=b&&null!=e&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:e})}};
$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,d){return $jscomp.findInternal(this,a,d).v}},"es6","es3");
$(document).ready(function(){function a(){var b=$("#wrap").css("transform").split("(")[1];e=b.split(",")[0];d=b.split(",")[3]}$(window).on("resize",a);var e,d;a();$(".drag").draggable({helper:"clone",opacity:.7,revert:"invalid",scroll:!1,start:function(b,c){c.position.left=b.target.offsetLeft-parseInt($(b.target).css("margin-left"));c.position.top=b.target.offsetTop-parseInt($(b.target).css("margin-top"));$(".dropArea").droppable("enable")},drag:function(b,c){c.position.left=c.position.left/e+(parseInt($(b.target).css("margin-left"))/
e-parseInt($(b.target).css("margin-left")));c.position.top=c.position.top/d+(parseInt($(b.target).css("margin-top"))/d-parseInt($(b.target).css("margin-top")))}});$(".dropBox .dropArea").droppable({accept:".drag.no1",tolerance:"pointer",drop:function(b,c){if(!$(c.draggable).parents().hasClass("dropArea")){var a=0;b=$(this).data("limit");$(this).find(".guideTxt").css("display","none");$(this).find(".drag").each(function(){a+=parseFloat($(this).data("num"))});a+=parseFloat($(c.draggable).data("num"));
if(a<=b){b=$(c.helper).clone();if(0!==$(".syncTable").length){var d=$(this).parent().offset();var f=null!==document.querySelector(".dragEvent.namsaeng")?document.querySelector(".dropWrap .sync03_01").clientHeight:document.querySelector(".dropBox").clientHeight}else d=null!==document.querySelector(".dragEvent.multiCol")?0!==$(this).parents(".noteRow").length?$(this).parents(".noteRow").offset():$(this).parents(".dropBox").offset():$(this).parents(".dropBox").offset(),f=$(this).parents(".dragEvent").find(".dragWrap .drag.no1")[0].clientHeight;
c=(c.helper.offset().left-d.left)/e;var h=this.clientHeight/2-f/2;b.css({position:"absolute",left:c,top:h,opacity:1});if(void 0!==$(b).data("inst")&&(c=$(b).data("inst"),0!==$(this).children("."+c).length)){$(".feedAudio").trigger("play");return}$(this).append(b);b.addClass("dragged");b.draggable({opacity:.5,revert:"invalid",scroll:!1,start:function(b,a){$(".dropArea").droppable("enable")},drag:function(b,a){a.position.left/=e;a.position.top=h}});$(".dropArea").droppable({out:function(b,a){if($(a.helper).hasClass("dragged")){$(a.helper).remove();
var c=0;$(this).find(".drag").each(function(){c+=parseFloat($(this).data("num"))});0===c&&$(this).find(".guideTxt").css("display","block");$(".dropArea").droppable("disable")}}});audioKill();$(this).data("answer")!==$(b).data("helper")?($(b).remove(),$(".feedAudio").trigger("play")):$(".feedAudio_ok").trigger("play")}else audioKill(),$(".feedAudio").trigger("play")}}});$(".resetDrag").on("click",function(){$(".dragged").remove();$(".guideTxt").show()});null!==document.querySelector(".instrumentBox")&&
$(".ibDropWrap .dropArea").droppable({accept:".drag.no2",tolerance:"pointer",drop:function(a,c){if(!$(c.draggable).parents().hasClass("dropArea")){$(this).find(".guideTxt").css("display","none");var b=0;$(this).find(".drag").each(function(){b+=parseFloat($(this).data("num"))});b+=parseFloat($(c.draggable).data("num"));if(3>=b){a=$(c.helper).clone();c=c.helper.offset();var d=$(".instrumentBox").offset();c=(c.left-d.left)/e;var f=(this.clientHeight-document.querySelector(".drag.no2").clientHeight)/
2;a.css({position:"absolute",left:c,top:f,opacity:1});$(this).append(a);a.addClass("dragged");a.draggable({containment:".dragEvent",opacity:.5,revert:"invalid",scroll:!1,start:function(a,b){$(".dropArea").droppable("enable")},drag:function(a,b){b.position.left/=e;b.position.top=f}});$(".dropArea").droppable({out:function(a,b){if($(b.helper).hasClass("dragged")){$(b.helper).remove();var c=0;$(this).find(".drag").each(function(){c+=parseFloat($(this).data("num"))});0===c&&$(this).find(".guideTxt").css("display",
"inline-block");$(".dropArea").droppable("disable")}}});audioKill();$(".feedAudio_ok").trigger("play")}else audioKill(),$(".feedAudio").trigger("play")}}})});function audioKill(){$(".feedAudio_ok").trigger("pause");$(".feedAudio_ok").prop("currentTime",0);$(".feedAudio").trigger("pause");$(".feedAudio").prop("currentTime",0)};
